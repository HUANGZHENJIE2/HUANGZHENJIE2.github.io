{"version":3,"sources":["js/player-list.js","js/lrc-player.js","js/main.js"],"names":["PlayerList","module","exports","LrcPlayer","e","container","_e","_lrc","line","lyrics","tim","cPLrc","currentLrc","index","loadLrc","lrc","_parser","lrcLines","split","i","length","search","match","parseInt","console","log","innerHTML","temp","push","_player","currentTime","undefined","indexOf","pLrsList","querySelectorAll","classList","remove","add","document","title","style","paddingTop","addEventListener","require","huMusicPlayer","querySelector","audioName","lrcContainer","coverImg","audioDescription","playlistIndex","lrcPlayer","src","play_url","audio_name","img","textContent","author_name","album_name"],"mappings":"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","file":"main.84f24426.js","sourceRoot":"..","sourcesContent":["let PlayerList = [\r\n  {\r\n    \"hash\": \"8370245A30FDAE87D081119D69E38F71\",\r\n    \"timelength\": 234000,\r\n    \"filesize\": 3759736,\r\n    \"audio_name\": \"故里逢春\",\r\n    \"have_album\": 1,\r\n    \"album_name\": \"故里逢春\",\r\n    \"album_id\": \"42111216\",\r\n    \"img\": \"img/109951165178496319.jpg\",\r\n    \"have_mv\": 1,\r\n    \"video_id\": \"4532410\",\r\n    \"author_name\": \"阿YueYue\",\r\n    \"song_name\": \"故里逢春\",\r\n    \"lyrics\": \"[00:00.000] 作词 : 喔喔\\n\" +\r\n      \"[00:01.000] 作曲 : 喔喔\\n\" +\r\n      \"[00:02.09]本作品经过词曲著作权利方授权\\n\" +\r\n      \"[00:02.59]编曲：田宸光\\n\" +\r\n      \"[00:03.04]二胡：二胡妹\\n\" +\r\n      \"[00:03.55]古筝：紫格\\n\" +\r\n      \"[00:04.02]和声：王淑霖\\n\" +\r\n      \"[00:04.37]混音：任天宇/王宇呈\\n\" +\r\n      \"[00:04.85]制作人：苏晨/田宸光\\n\" +\r\n      \"[00:05.55]监制：李永江/刘家泽\\n\" +\r\n      \"[00:06.18]制作公司：匠心音乐\\n\" +\r\n      \"[00:06.58]江南又梦烟雨 长河流入故里\\n\" +\r\n      \"[00:11.97]炊烟漫漫渡过百川千万里​\\n\" +\r\n      \"[00:17.59]我听着笙笛曲 人间清欢可期​\\n\" +\r\n      \"[00:23.17]落落冰川流转着千年古忆\\n\" +\r\n      \"[00:30.84]你低头 眉间落下场雪\\n\" +\r\n      \"[00:35.97]我抚平情愫万千\\n\" +\r\n      \"[00:41.54]帘外响起 霜将琴声冷却\\n\" +\r\n      \"[00:47.19]刹那间 过往事皆湮灭​\\n\" +\r\n      \"[00:51.59]江南又梦烟雨 长河流入故里\\n\" +\r\n      \"[00:57.16]炊烟漫漫渡过百川千万里​\\n\" +\r\n      \"[01:02.86]我听着笙笛曲 人间清欢可期​\\n\" +\r\n      \"[01:08.40]落落冰川流转着千年古忆\\n\" +\r\n      \"[01:15.52]\\n\" +\r\n      \"[01:38.51]风吹过 带走岁月蹉跎\\n\" +\r\n      \"[01:43.80]花败落却成过错\\n\" +\r\n      \"[01:49.00]背影的轮廓无法许下承诺\\n\" +\r\n      \"[01:54.98]千百年等你再看一遍​\\n\" +\r\n      \"[01:59.36]江南又梦烟雨 长河流入故里\\n\" +\r\n      \"[02:04.91]炊烟漫漫渡过百川千万里​\\n\" +\r\n      \"[02:10.54]我听着笙笛曲 人间清欢可期​\\n\" +\r\n      \"[02:16.20]落落冰川流转着千年古忆\\n\" +\r\n      \"[02:21.98]江南又梦烟雨 长河流入故里\\n\" +\r\n      \"[02:27.51]炊烟漫漫渡过百川千万里​\\n\" +\r\n      \"[02:33.11]我听着笙笛曲 人间清欢可期​\\n\" +\r\n      \"[02:38.63]落落冰川流转着千年古忆\\n\" +\r\n      \"[02:44.49]江南又逢春雨 惊蛰终入故里\\n\" +\r\n      \"[02:50.06]炊烟漫漫解冻冰河千万里​\\n\" +\r\n      \"[02:55.66]我忆起笙笛曲 却终杳无音信\\n\" +\r\n      \"[03:01.41]落落冰川流转着千年古忆\\n\" +\r\n      \"[03:11.15]你执手画天下 忧愁入酒几许\\n\" +\r\n      \"[03:16.64]几番念起是诗篇都空虚\\n\" +\r\n      \"[03:22.48]你提一撇一捺 只管游走天涯\\n\" +\r\n      \"[03:27.83]几番想起是深情话语\\n\",\r\n    \"author_id\": \"1054058\",\r\n    \"privilege\": 8,\r\n    \"privilege2\": \"1000\",\r\n    \"play_url\": \"media/2021/06/obj_wonDkMOGw6XDiTHCmMOi_3406609822_defb_9e18_d07d_d1c842849986e5c89dbc4a5cd0358ae6.m4a\"\r\n  }\r\n];\r\n\r\nmodule.exports = {\r\n  PlayerList: PlayerList\r\n}\r\n","function LrcPlayer(e, container) {\r\n  this._e = e;\r\n  this._lrc = null\r\n  this.line = \" \";\r\n  this.lyrics = [];\r\n  this.tim = [];\r\n  this.container = container;\r\n  this.cPLrc = null;\r\n  this.currentLrc = \"sadas\";\r\n  this.index = 0;\r\n\r\n  this.loadLrc = function (lrc) {\r\n    this._lrc = lrc\r\n    this._parser()\r\n  }\r\n\r\n  this._parser = function () {\r\n    let lrcLines = this._lrc.split(/\\r\\n|\\n/);\r\n    for (let i = 0; i < lrcLines.length; i++) {\r\n      if (lrcLines[i].search(/^(\\[)(\\d*)(:)(.*)(\\])(.*)/i) >= 0) {\r\n        this.line = lrcLines[i].match(/^(\\[)(\\d*)(:)(.*)(\\])(.*)/i);\r\n        this.tim[i] = (parseInt(this.line[2]) * 60) + parseInt(this.line[4]);\r\n        this.lyrics[i] = this.line[6];\r\n        console.log(this.line)\r\n        this.container.innerHTML += `<p>${this.lyrics[i]}</p>`\r\n      }\r\n    }\r\n\r\n\r\n    let temp = [];\r\n\r\n    for (let i = 0; i < this.tim.length; i++) {\r\n      if(null != this.tim[i])\r\n        temp.push(this.tim[i])\r\n    }\r\n\r\n    this.tim = temp;\r\n\r\n    temp = [];\r\n\r\n    for (let i = 0; i < this.lyrics.length; i++) {\r\n      if (null != this.lyrics[i])\r\n        temp.push(this.lyrics[i])\r\n    }\r\n\r\n    this.lyrics = temp;\r\n\r\n    console.log(this.tim)\r\n    console.log(this.lyrics)\r\n  }\r\n\r\n  this._player = function (currentTime) {\r\n\r\n    for (let i = 0; i < this.tim.length; i++) {\r\n      if (currentTime > this.tim[i] && (currentTime < this.tim[i + 1] || this.tim[i + 1] == undefined)) {\r\n        if (this.currentLrc.indexOf(this.lyrics[i]) == -1) {\r\n          let pLrsList = this.container.querySelectorAll(\"p\");\r\n          if (this.cPLrc)\r\n            this.cPLrc.classList.remove(\"lrc-active\")\r\n          pLrsList[i].classList.add(\"lrc-active\")\r\n          // this.container.innerHTML = `<p>${this.lyrics[i]}</p>`\r\n          document.title = this.lyrics[i];\r\n          this.cPLrc = pLrsList[i];\r\n\r\n          this.index = 38 * i;\r\n          this.currentLrc = this.lyrics[i];\r\n\r\n          this.container.style.paddingTop = \"-\" + this.index + \"px\"\r\n          // window.scrollTo(0, this.index)\r\n        } else {\r\n          console.log(\"休息中\")\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n  this._e.addEventListener(\"timeupdate\", () => {\r\n    this._player(this._e.currentTime)\r\n  })\r\n\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  LrcPlayer: LrcPlayer\r\n}\r\n","const PlayerList = require('./player-list').PlayerList;\r\nconst LrcPlayer = require('./lrc-player').LrcPlayer;\r\n\r\nlet huMusicPlayer = document.querySelector(\"#hu-music-player\")\r\nlet audioName = document.querySelector(\"#audio_name\")\r\nlet lrcContainer = document.querySelector(\"#lrc-container\")\r\nlet coverImg = document.querySelector(\"img\");\r\nlet audioDescription = document.querySelector(\"#audio_description\");\r\n\r\n\r\nlet playlistIndex = 0;\r\n\r\n\r\n\r\nlet lrcPlayer = new LrcPlayer(huMusicPlayer, lrcContainer);\r\nlrcPlayer.loadLrc(PlayerList[playlistIndex].lyrics);\r\nhuMusicPlayer.src = PlayerList[playlistIndex].play_url;\r\naudioName.innerHTML = PlayerList[playlistIndex].audio_name;\r\ncoverImg.src = PlayerList[playlistIndex].img;\r\ndocument.title = PlayerList[playlistIndex].audio_name + \" - HMP\";\r\naudioDescription.textContent = PlayerList[playlistIndex].author_name + \" · \" + PlayerList[playlistIndex].album_name\r\n\r\n\r\n// const Router = require(\"./router\").Router;\r\n//\r\n// let router = new Router();\r\n//\r\n// let routerList = [\r\n//   {path: \"/\", render: ()=>{\r\n//     return `<h1>您好世界</h1>`\r\n//     }},\r\n//   {path: \"/huangzhenjie\", render: ()=>{\r\n//     return `<h1>您好黄振杰</h1>`\r\n//   }}\r\n// ]\r\n//\r\n// router.forRoot(routerList)\r\n\r\n"]}